version: "2"
sql:
  - engine: sqlite
    schema: "internal/db/schema.sql"
    queries: "internal/db/query.sql"
    gen:
      go:
        emit_interface: true
        package: "db"
        out: internal/db/sqlc
        overrides:
          - column: "mcp_servers.type"
            go_type: "github.com/AbhinavPalacharla/xtrn-personal/internal/db/models.MCPServerType"
          # - column: "messages.role"
          #   go_type: "github.com/AbhinavPalacharla/xtrn-personal/internal/db/models.MessageRole"
          # - column: "messages.type"
          #   go_type: "github.com/AbhinavPalacharla/xtrn-personal/internal/db/models.MessageType"
          - column: "mcp_server_images.env_schema"
            go_type: "github.com/AbhinavPalacharla/xtrn-personal/internal/db/models.EnvSchema"
          - column: v_get_chat_messages.tool_result
            go_type:
              import: github.com/AbhinavPalacharla/xtrn-personal/internal/db/models/query_types
              type: ToolResult
          - column: "v_get_chat_messages.ai_message"
            go_type:
              import: github.com/AbhinavPalacharla/xtrn-personal/internal/db/models/query_types
              type: AIParts
          - column: "v_get_chat_messages.auth_request"
            go_type:
              import: github.com/AbhinavPalacharla/xtrn-personal/internal/db/models/query_types
              type: AuthRequest
          - column: "v_get_chat_with_auth_and_messages.auth_requests"
            go_type:
              import: github.com/AbhinavPalacharla/xtrn-personal/internal/db/models/query_types
              type: AuthRequests
          - column: "v_get_chat_with_auth_and_messages.messages"
            go_type:
              import: github.com/AbhinavPalacharla/xtrn-personal/internal/db/models/query_types
              type: ChatMessages
